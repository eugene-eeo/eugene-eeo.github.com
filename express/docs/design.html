<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Design Decisions &mdash; Express 0.1.0b1 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Express 0.1.0b1 documentation" href="index.html" />
    <link rel="next" title="Performance" href="performance.html" />
    <link rel="prev" title="express.contrib" href="contrib.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
  
  

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="performance.html" title="Performance"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="contrib.html" title="express.contrib"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Express 0.1.0b1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="design-decisions">
<h1>Design Decisions<a class="headerlink" href="#design-decisions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="object-binding-architecture">
<h2>Object Binding Architecture<a class="headerlink" href="#object-binding-architecture" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not meant to criticize other frameworks for their
choices- I respect them and I am just giving my reasons why
express doesn&#8217;t use them.</p>
</div>
<p>With express being used for most of my tiny projects, I&#8217;ve
often needed to bind multiple middleware together, and then
let them access the &#8220;current&#8221; app (same as <tt class="docutils literal"><span class="pre">flask.current_app</span></tt>,
but much more lower-level).</p>
<p>There are several ways in which this can be achieved, using
other methods rather than having object binding:</p>
<ul class="simple">
<li>Store the current app in a global variable, like what Flask
does in their <tt class="docutils literal"><span class="pre">current_app</span></tt> object, making it readily
accessible by other middleware that may want to use it.</li>
<li>Make everything implicit like Bottle, where you can only
have one instance of the app (though there are workarounds).</li>
<li>No global app, just an application object and let the user
handle all of the global issues by himself, something which
most people would rather not do.</li>
</ul>
<p>But no, I do not like the idea of any of them- Flask&#8217;s <tt class="docutils literal"><span class="pre">current_app</span></tt>
object seems kinda nice- though I do need to dig deep into their code
to see how that&#8217;s done. But that&#8217;s handled by Flask already. So I
decided to make my own inheritance system (if you will) and came up
with express&#8217;s binding architecture.</p>
<p>Basically, the express instance (upon creation via the __init__
method), will create the configuration variables, and set up itself
by binding other middleware.</p>
<p>The other middleware which are binded (using their <tt class="docutils literal"><span class="pre">setup</span></tt> method)
to the express instance will then set the required attributes, dictated
by their own <tt class="docutils literal"><span class="pre">functions</span></tt> property or another list, on the express
instance. This is one of the object binding methods.</p>
<p>The second method involves a much more simple binding- where the
functions of the middleware (which receives an express instance as it&#8217;s
first argument) are binded into a new object within the express instance
named after the middleware.</p>
</div>
<div class="section" id="module-as-a-class">
<h2>Module as a class<a class="headerlink" href="#module-as-a-class" title="Permalink to this headline">¶</a></h2>
<p>You might have noticed that the express module is in fact a class,
i.e. you might have done this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">express</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">express</span>
<span class="go">&lt;class &#39;express.express.Express&#39;&gt;</span>
</pre></div>
</div>
<p>This behavior is entirely intended and specially crafted because I
thought it would be cool (which makes this decision entirely aesthetics
based). This is also because I would like to provide a convenience
function for the user by not requiring him to type <tt class="docutils literal"><span class="pre">express.express.Express()</span></tt>
or <tt class="docutils literal"><span class="pre">express.express()</span></tt>. Ain&#8217;t nobody got time for that!</p>
<p>You might have asked why I didn&#8217;t make the express module an instance
since that&#8217;s what &lt;<em>insert someone&#8217;s name</em>&gt; might have done, and that
would be &#8220;better&#8221;. It&#8217;s because I want to allow the developer to create
multiple express instances, each with their own middleware.</p>
</div>
<div class="section" id="using-flask-werkzeug-as-routers">
<h2>Using Flask &amp; Werkzeug as Routers<a class="headerlink" href="#using-flask-werkzeug-as-routers" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">I am not trying to give you the impression that Flask and
Werkzeug are not important in the express framework. They
are in fact part of the backbone behind the framework.</p>
</div>
<p>Well, you cannot just make a new web framework just to make a web
API toolkit, so why do so? Well-established frameworks which are
Flask and Werkzeug have already been designed by cool people with
crazy skills.</p>
<p>Flask is lightweight, and Werkzeug is a nice WSGI router which
so much important features that I cannot possibly concatenate them
into one sentence. Here&#8217;s a rather small list of features that it offers:</p>
<ul class="simple">
<li>Request &amp; Response objects (practically every WSGI toolkit offers
this but Werkzeug does it best in my opinion).</li>
<li>URL Routing - every web framework requires one. Werkzeug makes it
simple and aesthetically-cool at the same time.</li>
<li>Views &amp; Endpoints - can&#8217;t stress on how much this has made my code
more modular, but it has driven me crazy (sometimes).</li>
<li><tt class="docutils literal"><span class="pre">contrib</span></tt> - That massive library there is full of goodies. Every web
app needs to use at least one of them.</li>
</ul>
<p>The Flask web framework also ships with the Jinja templates engine
which is massive considering that it&#8217;s a template engine. Seems to
resemble a web server or some kind of sandbox environment at times.</p>
<p>I also liked the Flask framework <em>very</em> much, and I have been using
it in my web apps. If you happen to dislike it, you can always edit the
code internally and subclass the express instance to suit you needs.</p>
<p>Plus, you need a web server to test out your API, and somewhere
to mount your API on. Or else you&#8217;ve just wasted hours of your life
making your perfect API without being able to push it online.</p>
</div>
<div class="section" id="difference-between-helpers-contrib">
<h2>Difference between helpers &amp; contrib<a class="headerlink" href="#difference-between-helpers-contrib" title="Permalink to this headline">¶</a></h2>
<p>You might have noticed that there are two different libraries of
helper functions within express- the contrib and helpers library.
Some of the functions are found here, some are found there.</p>
<p>But the primary difference between them is that helpers is primarily
for classes and bindings which are made for the express instance to
bind to.</p>
<p>The contrib library, on the other hand, is a massive file in which I
dump all of the helpers I used in my previous web apps. The contrib
library will continue to grow massively over time, but the helpers
library will only be more stable and perhaps experience more internal
changes.</p>
</div>
<div class="section" id="not-too-many-features">
<h2>Not too many features<a class="headerlink" href="#not-too-many-features" title="Permalink to this headline">¶</a></h2>
<p>In a development environment, you might want a framework which does
nearly everything for you- databases, templates, etc. And you may also
want a framework which is crazy fast. But in production environments,
you do not need a really fast but fragile framework- nor do you need
frameworks which do everything for you and slow the server down.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Design Decisions</a><ul>
<li><a class="reference internal" href="#object-binding-architecture">Object Binding Architecture</a></li>
<li><a class="reference internal" href="#module-as-a-class">Module as a class</a></li>
<li><a class="reference internal" href="#using-flask-werkzeug-as-routers">Using Flask &amp; Werkzeug as Routers</a></li>
<li><a class="reference internal" href="#difference-between-helpers-contrib">Difference between helpers &amp; contrib</a></li>
<li><a class="reference internal" href="#not-too-many-features">Not too many features</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="contrib.html" title="previous chapter">express.contrib</a></li>
      <li>Next: <a href="performance.html" title="next chapter">Performance</a></li>
  </ul></li>
</ul>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/design.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2013, Eugene Eeo.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  
  </body>
</html>