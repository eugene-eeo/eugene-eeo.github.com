<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced Usage &mdash; Express 0.1.0b1 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Express 0.1.0b1 documentation" href="index.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="Introduction" href="intro.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
  
  

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="changelog.html" title="Changelog"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Express 0.1.0b1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="advanced-usage">
<h1>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h1>
<p>Here are several options when you need better customization
of the express framework or when your API becomes larger
and larger.</p>
<div class="section" id="read-the-source">
<h2>Read the Source<a class="headerlink" href="#read-the-source" title="Permalink to this headline">¶</a></h2>
<p>Read the source and the documentation- they are all full of
things that will help you during development. The source is
fairly well documented, filled with docstrings that are
identical to the ones in the API docs.</p>
<p>You may also want to read the documentation for the following
libraries in which express relies on:</p>
<ul class="simple">
<li><strong>Flask</strong>: <a class="reference external" href="http://flask.pocoo.org">http://flask.pocoo.org</a></li>
<li><strong>Werkzeug</strong>: <a class="reference external" href="http://werkzeug.pocoo.org">http://werkzeug.pocoo.org</a></li>
<li><strong>Redis</strong>: <a class="reference external" href="http://redis-py.readthedocs.org/">http://redis-py.readthedocs.org/</a></li>
<li><strong>SMTPlib</strong> (standard Python library): <a class="reference external" href="http://docs.python.org/3.3/library/smtplib.html">http://docs.python.org/3.3/library/smtplib.html</a></li>
</ul>
</div>
<div class="section" id="use-middleware">
<h2>Use Middleware<a class="headerlink" href="#use-middleware" title="Permalink to this headline">¶</a></h2>
<p>Express is all about linking multiple objects together, and
dumping them into one Express instance. Always use home-brewed
Middleware for larger APIs, since you will know what happens
under the hood, and you will know all of the details of it&#8217;s
operation.</p>
<p>Using middleware is simple thanks to express&#8217;s simple middleware
system, which means that you may bind any class that accepts an
express instance as it&#8217;s first argument. Wrapping middleware is
extremely simple:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">express</span>
<span class="kn">from</span> <span class="nn">mylib</span> <span class="kn">import</span> <span class="n">middleware</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">express</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">middleware</span><span class="p">)</span>

<span class="c"># now you can access it directly</span>
<span class="n">app</span><span class="o">.</span><span class="n">middleware</span>
</pre></div>
</div>
</div>
<div class="section" id="know-how-things-work">
<h2>Know how things work<a class="headerlink" href="#know-how-things-work" title="Permalink to this headline">¶</a></h2>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p>No, the code snippets in the docs do not contain a typo or a
mistake- you just need to import the express library and then
use it as a callable:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">express</span><span class="p">;</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">express</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>You might ask, how do they do that? Well there&#8217;s an answer for
you: Read the Source! Or you may refer to the snippet below:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">Express</span>
</pre></div>
</div>
<p>The express instance, if you look at the code for it, doesn&#8217;t
include much- a couple of Flask aliases, and maybe the <tt class="docutils literal"><span class="pre">listen</span></tt>
method. Most of the magic is provided by other classes within
the <tt class="docutils literal"><span class="pre">helpers</span></tt> library, which are automatically integrated into
the <tt class="docutils literal"><span class="pre">express</span></tt> instance during creation time.</p>
<p>For example, the configuration functions provided by <tt class="docutils literal"><span class="pre">express</span></tt>
like <tt class="docutils literal"><span class="pre">express().get</span></tt> are all sourced from the <tt class="docutils literal"><span class="pre">helpers.Configuration</span></tt>
object. The <tt class="docutils literal"><span class="pre">express().Model</span></tt> is sourced from the <tt class="docutils literal"><span class="pre">helpers.Model</span></tt>
object.</p>
</div>
<div class="section" id="use-the-configuration">
<h2>Use the Configuration<a class="headerlink" href="#use-the-configuration" title="Permalink to this headline">¶</a></h2>
<p>Use the configuration system of the express instance. Learn what
each variable does and so on. Doing so will give you almost full
control over what express does.</p>
</div>
<div class="section" id="utilize-the-internal-objects">
<h2>Utilize the internal objects<a class="headerlink" href="#utilize-the-internal-objects" title="Permalink to this headline">¶</a></h2>
<p>There are several <em>internal</em> objects within the normal express
instance- like the <cite>Flask</cite> property which houses a Flask object-
you can use it via something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">import</span> <span class="nn">express</span>
<span class="n">web</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">express</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">Flask</span> <span class="o">=</span> <span class="n">web</span>

<span class="c"># uses the Flask instance from your app</span>
<span class="c"># instead of it&#39;s own instance</span>
<span class="n">api</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">5000</span><span class="p">)</span>

<span class="c"># or you may use the Flask.run function:</span>
<span class="n">app</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">web</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Always use the <tt class="docutils literal"><span class="pre">setup()</span></tt> function when setting the internal
<tt class="docutils literal"><span class="pre">Flask</span></tt> instance of an express instance to another <tt class="docutils literal"><span class="pre">Flask</span></tt>
instance because if you don&#8217;t your API mountpoint wouldn&#8217;t be
set as a URL rule.</p>
</div>
<p>This makes it possible for you to daisy chain several express
instances into one single Flask application, making it possible
for you to utilize several access points for your API.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">my_api</span> <span class="kn">import</span> <span class="n">web</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">db</span>
<span class="kn">import</span> <span class="nn">express</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">express</span><span class="p">()</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span><span class="n">web</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">db</span><span class="p">]:</span>
    <span class="n">item</span><span class="o">.</span><span class="n">Flask</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Flask</span>
    <span class="n">item</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
<p>And then let Flask handle all of the other things like view
functions, request routing, authentication, sessions for you.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Advanced Usage</a><ul>
<li><a class="reference internal" href="#read-the-source">Read the Source</a></li>
<li><a class="reference internal" href="#use-middleware">Use Middleware</a></li>
<li><a class="reference internal" href="#know-how-things-work">Know how things work</a></li>
<li><a class="reference internal" href="#use-the-configuration">Use the Configuration</a></li>
<li><a class="reference internal" href="#utilize-the-internal-objects">Utilize the internal objects</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="intro.html" title="previous chapter">Introduction</a></li>
      <li>Next: <a href="changelog.html" title="next chapter">Changelog</a></li>
  </ul></li>
</ul>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/advanced.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2013, Eugene Eeo.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  
  </body>
</html>